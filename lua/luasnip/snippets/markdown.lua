local ls = require("luasnip")
local s = ls.snippet
local t = ls.text_node
local i = ls.insert_node
local c = ls.choice_node
local fmt = require("luasnip.extras.fmt").fmt

return {
  -- Headers
  s("h1", fmt("# {}", { i(0) })),
  s("h2", fmt("## {}", { i(0) })),
  s("h3", fmt("### {}", { i(0) })),
  s("h4", fmt("#### {}", { i(0) })),
  s("h5", fmt("##### {}", { i(0) })),
  s("h6", fmt("###### {}", { i(0) })),

  -- Links, URLs, Images
  s({ trig = "l", name = "Link" }, fmt("[{}]({}) {}", { i(1, "text"), i(2, "url"), i(0) })),
  s({ trig = "u", name = "URL" }, fmt("<{}> {}", { i(1, "url"), i(0) })),
  s("img", fmt("![{}]({}) {}", { i(1, "alt text"), i(2, "path"), i(0) })),

  -- Text styles
  s("strikethrough", fmt("~~{}~~ {}", { i(1), i(0) })),
  s({ trig = "b", name = "Bold" }, fmt("**{}** {}", { i(1), i(0) })),
  s({ trig = "i", name = "Italic" }, fmt("*{}* {}", { i(1), i(0) })),
  s("bi", fmt("***{}*** {}", { i(1), i(0) })),

  -- Quotes & Code
  s("quote", fmt("> {}", { i(1) })),
  s("code", fmt("`{}` {}", { i(1), i(0) })),
  s("codeblock", {
    t("```"),
    i(1, "language"),
    t({ "", "" }),
    i(0),
    t({ "", "```" }),
  }),

  -- Lists
  s("unordered list", {
    t("- "),
    i(1, "first"),
    t({ "", "- " }),
    i(2, "second"),
    t({ "", "- " }),
    i(3, "third"),
    t({ "", "" }),
    i(0),
  }),
  s("ordered list", {
    t("1. "),
    i(1, "first"),
    t({ "", "2. " }),
    i(2, "second"),
    t({ "", "3. " }),
    i(3, "third"),
    t({ "", "" }),
    i(0),
  }),
  s("horizontal rule", { t("----------"), t({ "", "" }) }),

  -- Task Lists (with choice: empty or checked)
  s("task", {
    t("- ["),
    c(1, { t(" "), t("x") }),
    t("] "),
    i(2, "text"),
    t({ "", "" }),
    i(0),
  }),
  s("task2", {
    t("- ["),
    c(1, { t(" "), t("x") }),
    t("] "),
    i(2, "text"),
    t({ "", "- [" }),
    c(3, { t(" "), t("x") }),
    t("] "),
    i(4, "text"),
    t({ "", "" }),
    i(0),
  }),
  s("task3", {
    t("- ["),
    c(1, { t(" "), t("x") }),
    t("] "),
    i(2, "text"),
    t({ "", "- [" }),
    c(3, { t(" "), t("x") }),
    t("] "),
    i(4, "text"),
    t({ "", "- [" }),
    c(5, { t(" "), t("x") }),
    t("] "),
    i(6, "text"),
    t({ "", "" }),
    i(0),
  }),
  s("task4", {
    t("- ["),
    c(1, { t(" "), t("x") }),
    t("] "),
    i(2, "text"),
    t({ "", "- [" }),
    c(3, { t(" "), t("x") }),
    t("] "),
    i(4, "text"),
    t({ "", "- [" }),
    c(5, { t(" "), t("x") }),
    t("] "),
    i(6, "text"),
    t({ "", "- [" }),
    c(7, { t(" "), t("x") }),
    t("] "),
    i(8, "text"),
    t({ "", "" }),
    i(0),
  }),
  s("task5", {
    t("- ["),
    c(1, { t(" "), t("x") }),
    t("] "),
    i(2, "text"),
    t({ "", "- [" }),
    c(3, { t(" "), t("x") }),
    t("] "),
    i(4, "text"),
    t({ "", "- [" }),
    c(5, { t(" "), t("x") }),
    t("] "),
    i(6, "text"),
    t({ "", "- [" }),
    c(7, { t(" "), t("x") }),
    t("] "),
    i(8, "text"),
    t({ "", "- [" }),
    c(9, { t(" "), t("x") }),
    t("] "),
    i(10, "text"),
    t({ "", "" }),
    i(0),
  }),

  s("table", {
    t("| "),
    i(1, "Column1"),
    t(" | "),
    i(2, "Column2"),
    t(" | "),
    i(3, "Column3"),
    t(" |"),
    t({ "", "| ------------- | -------------- | -------------- |", "" }),
    t("| "),
    i(4, "Item1"),
    t(" | "),
    i(5, "Item2"),
    t(" | "),
    i(6, "Item3"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),

  -- 2x1 .. 5x5
  s("2x1table", {
    t("| "),
    i(1, "Column1"),
    t(" |"),
    t({ "", "| ------------- |", "" }),
    t("| "),
    i(2, "Item1"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),
  s("3x1table", {
    t("| "),
    i(1, "Column1"),
    t(" |"),
    t({ "", "| ------------- |", "" }),
    t("| "),
    i(2, "Item1"),
    t(" |"),
    t({ "", "| " }),
    i(3, "Item2"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),
  s("4x1table", {
    t("| "),
    i(1, "Column1"),
    t(" |"),
    t({ "", "| ------------- |", "" }),
    t("| "),
    i(2, "Item1"),
    t(" |"),
    t({ "", "| " }),
    i(3, "Item2"),
    t(" |"),
    t({ "", "| " }),
    i(4, "Item3"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),
  s("5x1table", {
    t("| "),
    i(1, "Column1"),
    t(" |"),
    t({ "", "| ------------- |", "" }),
    t("| "),
    i(2, "Item1"),
    t(" |"),
    t({ "", "| " }),
    i(3, "Item2"),
    t(" |"),
    t({ "", "| " }),
    i(4, "Item3"),
    t(" |"),
    t({ "", "| " }),
    i(5, "Item4"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),

  s("2x2table", {
    t("| "),
    i(1, "Column1"),
    t(" | "),
    i(2, "Column2"),
    t(" |"),
    t({ "", "| -------------- | --------------- |", "" }),
    t("| "),
    i(3, "Item1.1"),
    t(" | "),
    i(4, "Item2.1"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),
  s("3x2table", {
    t("| "),
    i(1, "Column1"),
    t(" | "),
    i(2, "Column2"),
    t(" |"),
    t({ "", "| -------------- | --------------- |", "" }),
    t("| "),
    i(3, "Item1.1"),
    t(" | "),
    i(4, "Item2.1"),
    t(" |"),
    t({ "", "| " }),
    i(5, "Item1.2"),
    t(" | "),
    i(6, "Item2.2"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),
  s("4x2table", {
    t("| "),
    i(1, "Column1"),
    t(" | "),
    i(2, "Column2"),
    t(" |"),
    t({ "", "| -------------- | --------------- |", "" }),
    t("| "),
    i(3, "Item1.1"),
    t(" | "),
    i(4, "Item2.1"),
    t(" |"),
    t({ "", "| " }),
    i(5, "Item1.2"),
    t(" | "),
    i(6, "Item2.2"),
    t(" |"),
    t({ "", "| " }),
    i(7, "Item1.3"),
    t(" | "),
    i(8, "Item2.3"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),
  s("5x2table", {
    t("| "),
    i(1, "Column1"),
    t(" | "),
    i(2, "Column2"),
    t(" |"),
    t({ "", "|--------------- | --------------- |", "" }),
    t("| "),
    i(3, "Item1.1"),
    t(" | "),
    i(4, "Item2.1"),
    t(" |"),
    t({ "", "| " }),
    i(5, "Item1.2"),
    t(" | "),
    i(6, "Item2.2"),
    t(" |"),
    t({ "", "| " }),
    i(7, "Item1.3"),
    t(" | "),
    i(8, "Item2.3"),
    t(" |"),
    t({ "", "| " }),
    i(9, "Item1.4"),
    t(" | "),
    i(10, "Item2.4"),
    t(" |"),
    t({ "", "" }),
    i(0),
  }),

  -- Sub / Superscript
  s("sub", fmt("{}<sub>{}", { i(1), i(0) })),
  s("sup", fmt("{}<sup>{}", { i(1), i(0) })),

  -- Callouts
  s("note", { t({ "> [!NOTE]", " > " }), i(0) }),
  s("tip", { t({ "> [!TIP]", " > " }), i(0) }),
  s("imp", { t({ "> [!IMPORTANT]", " > " }), i(0) }),
  s("w", { t({ "> [!WARNING]", " > " }), i(0) }),
  s("c", { t({ "> [!CAUTION]", " > " }), i(0) }),
}
